
<?php
$imgData = "data:image/png;base64,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";


$ok = file_put_contents("img/123445.png", base64_decode(substr($imgData, 22)));


    // 保存图片
   /* if (!empty(photo_string)) {
        $photoArray = explode('|', photo_string);
        $newPath = array();
        
        // 验证图片缓存
        foreach ($photoArray as $val) {
            $cacheImg = rootDir.'/cache/Img/'.$val;
            if (!is_file($cacheImg))
                throw new Exception('缓存图片已失效，请重新选择图片！');
        }

        // 建立文件夹
        define('imgDir', rootDir.'/UploadFiles/0/'.date('Ym').'/'.date('d').'/');
        if (!is_dir(imgDir)) {
            mkdir(imgDir, 0755, 1);
            chmod(imgDir, 0755);
        }

        // 移动图片
        foreach ($photoArray as $val) {
            $cacheImg = rootDir.'/cache/Img/'.$val;
            file_put_contents(imgDir.$val, file_get_contents($cacheImg));

            unlink($cacheImg);
            $newPath[] = str_replace(rootDir, '', imgDir.$val);
        }
    }
	*/

?>